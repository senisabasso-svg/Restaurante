{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "Serilog": {
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "Microsoft.EntityFrameworkCore": "Warning",
        "Microsoft.AspNetCore": "Warning",
        "System": "Warning"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {Message:lj} {Properties:j}{NewLine}{Exception}"
        }
      },
      {
        "Name": "File",
        "Args": {
          "path": "logs/cornerapp-.log",
          "rollingInterval": "Day",
          "retainedFileCountLimit": 30,
          "outputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} {Level:u3}] {Message:lj} {Properties:j}{NewLine}{Exception}",
          "shared": true
        }
      }
    ],
    "Enrich": [
      "FromLogContext",
      "WithEnvironmentName",
      "WithMachineName",
      "WithThreadId"
    ]
  },
  "AllowedHosts": "*",
  "ConnectionStrings": {
    "DefaultConnection": "Server=ROG;Database=CornerAppDb;Trusted_Connection=True;MultipleActiveResultSets=true;TrustServerCertificate=true;Pooling=true;Min Pool Size=5;Max Pool Size=100;Connection Timeout=30",
    "Redis": ""
  },
  "Redis": {
    "ConnectionString": "",
    "InstanceName": "CornerApp:",
    "Enabled": false
  },
  "DeliveryZone": {
    "StoreLatitude": -31.3833,
    "StoreLongitude": -57.9667,
    "MaxDeliveryRadiusKm": 40,
    "Enabled": false
  },
  "Jwt": {
    "Key": "your-secret-key-that-is-at-least-32-characters-long-for-security",
    "Issuer": "CornerApp",
    "Audience": "CornerApp"
  },
  "Cors": {
    "AllowedOrigins": [
      "http://localhost:3000",
      "http://localhost:19006",
      "exp://localhost:19000"
    ],
    "AllowCredentials": true,
    "MaxAge": 3600,
    "ExposedHeaders": [
      "X-Request-Id",
      "ETag",
      "Content-Length",
      "Content-Type"
    ]
  },
  "EnableSwagger": false,
  "IpRateLimiting": {
    "EnableEndpointRateLimiting": true,
    "StackBlockedRequests": false,
    "RealIpHeader": "X-Real-IP",
    "ClientIdHeader": "X-ClientId",
    "HttpStatusCode": 429,
    "IpWhitelist": [],
    "EndpointWhitelist": [ "get:/health", "get:/health/live", "get:/health/ready" ],
    "ClientWhitelist": [],
    "GeneralRules": [
      {
        "Endpoint": "*",
        "Period": "1m",
        "Limit": 100
      },
      {
        "Endpoint": "POST:/api/orders",
        "Period": "1m",
        "Limit": 20
      },
      {
        "Endpoint": "POST:/api/auth/*",
        "Period": "1m",
        "Limit": 10
      },
      {
        "Endpoint": "POST:/admin/api/*",
        "Period": "1m",
        "Limit": 30
      }
    ]
  },
  "IpRateLimitPolicies": {
    "IpRules": []
  },
  "ResponseCompression": {
    "EnableForHttps": true,
    "MimeTypes": [
      "application/json",
      "text/json",
      "application/problem+json",
      "text/plain",
      "text/css",
      "application/javascript",
      "text/html",
      "application/xml",
      "text/xml",
      "application/atom+xml",
      "application/rss+xml"
    ]
  },
  "Cache": {
    "ProductsCacheDurationMinutes": 5,
    "CategoriesCacheDurationMinutes": 10,
    "EnableCache": true
  },
  "RequestLogging": {
    "EnableRequestLogging": true,
    "LogRequestBody": true,
    "LogResponseBody": true,
    "MaxRequestBodyLength": 1000,
    "MaxResponseBodyLength": 500,
    "SkipPaths": [
      "/health",
      "/health/ready",
      "/health/live"
    ]
  },
  "ResponseCache": {
    "EnableResponseCache": true,
    "ProductsCacheDuration": 300,
    "CategoriesCacheDuration": 600,
    "DefaultCacheDuration": 60
  },
  "Api": {
    "IncludeRequestIdInResponse": true,
    "RequestIdHeaderName": "X-Request-Id",
    "ApiVersion": "1.0",
    "UseStandardizedResponses": true
  },
  "Metrics": {
    "EnableMetrics": true,
    "EnableMetricsEndpoint": true,
    "TopEndpointsLimit": 20,
    "Prometheus": {
      "Enabled": true
    }
  },
  "Secrets": {
    "Provider": "Configuration",
    "AzureKeyVault": {
      "VaultUri": "",
      "Enabled": false
    },
    "AWS": {
      "Region": "",
      "Enabled": false
    },
    "CacheEnabled": true,
    "CacheExpirationMinutes": 60
  },
  "RabbitMQ": {
    "Enabled": false,
    "HostName": "localhost",
    "Port": 5672,
    "UserName": "guest",
    "Password": "guest",
    "VirtualHost": "/"
  },
  "Backup": {
    "Enabled": false,
    "Directory": "backups",
    "IntervalHours": 24,
    "MaxBackups": 10,
    "RetentionDays": 30
  },
  "ContentNegotiation": {
    "RespectBrowserAcceptHeader": true,
    "ReturnHttpNotAcceptable": true,
    "DefaultContentType": "application/json",
    "SupportedMediaTypes": [
      "application/json",
      "application/xml",
      "text/json"
    ]
  },
  "RequestLimits": {
    "MaxRequestBodySize": 10485760,
    "MaxRequestHeadersTotalSize": 32768,
    "MaxRequestHeaderCount": 100,
    "KeepAliveTimeoutSeconds": 120,
    "RequestHeadersTimeoutSeconds": 30
  },
  "BackgroundJobs": {
    "EnableBackgroundJobs": true,
    "CacheCleanup": {
      "Enabled": true,
      "IntervalMinutes": 30,
      "ExpirationThresholdMinutes": 60
    }
  },
  "SecurityHeaders": {
    "EnableXContentTypeOptions": true,
    "EnableXFrameOptions": true,
    "XFrameOptionsValue": "DENY",
    "EnableXXssProtection": true,
    "EnableReferrerPolicy": true,
    "ReferrerPolicyValue": "strict-origin-when-cross-origin",
    "EnablePermissionsPolicy": true,
    "PermissionsPolicyValue": "geolocation=(), microphone=(), camera=()",
    "EnableStrictTransportSecurity": true,
    "HstsMaxAgeSeconds": 31536000,
    "HstsIncludeSubDomains": true,
    "HstsPreload": false,
    "EnableContentSecurityPolicy": false,
    "ContentSecurityPolicyValue": "",
    "EnableXPermittedCrossDomainPolicies": true,
    "XPermittedCrossDomainPoliciesValue": "none",
    "EnableExpectCT": false,
    "ExpectCTMaxAgeSeconds": 86400,
    "ExpectCTReportUri": ""
  },
  "ResponseTransformation": {
    "EnableTransformation": false,
    "ExcludedPaths": [
      "/swagger",
      "/health",
      "/metrics"
    ]
  },
  "RequestValidation": {
    "EnableValidation": true,
    "RequiredHeaders": [],
    "RequireUserAgent": false,
    "MaxContentLengthBytes": 10485760,
    "AllowedMethods": null,
    "ExcludedPaths": [
      "/swagger",
      "/health",
      "/metrics"
    ]
  },
  "CircuitBreaker": {
    "FailureThreshold": 5,
    "TimeoutSeconds": 60,
    "SuccessThreshold": 2,
    "ExternalApi": {
      "FailureThreshold": 3,
      "TimeoutSeconds": 30,
      "SuccessThreshold": 1
    }
  },
  "FeatureFlags": {
    "NewCheckoutFlow": {
      "Enabled": false,
      "PercentageEnabled": 0.1,
      "AllowedUserIds": []
    },
    "AdvancedSearch": {
      "Enabled": true
    },
    "BetaFeatures": {
      "Enabled": false,
      "AllowedUserIds": [1, 2, 3]
    },
    "PromoCodeSystem": {
      "Enabled": true,
      "EnabledFrom": "2024-01-01T00:00:00Z",
      "EnabledUntil": "2024-12-31T23:59:59Z"
    }
  },
  "RetryPolicy": {
    "MaxRetryAttempts": 3,
    "InitialDelaySeconds": 1,
    "MaxDelaySeconds": 30,
    "BackoffMultiplier": 2.0,
    "Strategy": "Exponential",
    "HttpClient": {
      "MaxRetryAttempts": 5,
      "InitialDelaySeconds": 2,
      "MaxDelaySeconds": 60,
      "BackoffMultiplier": 2.0,
      "Strategy": "Exponential"
    },
    "Database": {
      "MaxRetryAttempts": 3,
      "InitialDelaySeconds": 1,
      "MaxDelaySeconds": 10,
      "BackoffMultiplier": 1.5,
      "Strategy": "Linear"
    }
  },
  "Audit": {
    "EnableDatabaseAudit": true,
    "EnableFileAudit": false,
    "LogPath": "logs/audit.log",
    "LogActions": [
      "Create",
      "Update",
      "Delete",
      "Login",
      "Logout",
      "PasswordChange"
    ]
  },
  "HealthChecks": {
    "Cache": {
      "Enabled": true
    },
    "DiskSpace": {
      "Enabled": true,
      "MinimumFreeSpaceMB": 1024
    },
    "Memory": {
      "Enabled": true,
      "MaximumUsageMB": 2048
    },
    "ExternalApi": {
      "Enabled": false,
      "Url": "",
      "TimeoutSeconds": 5
    }
  },
  "Webhooks": {
    "EnableWebhooks": true,
    "DefaultTimeoutSeconds": 30,
    "MaxRetries": 3,
    "RetryDelaySeconds": 5
  },
  "ApiVersioning": {
    "EnableVersioning": false,
    "SupportedVersions": [
      "1.0",
      "2.0"
    ],
    "DefaultVersion": "1.0",
    "RejectInvalidVersions": false,
    "VersionHeaderEnabled": true,
    "VersionHeaderName": "X-API-Version",
    "QueryStringEnabled": true,
    "QueryStringParameterName": "api-version",
    "RouteEnabled": true
  },
  "Email": {
    "Smtp": {
      "Host": "smtp.gmail.com",
      "Port": 587,
      "UseSsl": true,
      "Username": "",
      "Password": ""
    },
    "From": {
      "Address": "noreply@cornerapp.com",
      "Name": "CornerApp"
    }
  }
}

